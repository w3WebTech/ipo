<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>IPO Details</title>
    <link
      href="https://unpkg.com/tailwindcss@^1.0/dist/tailwind.min.css"
      rel="stylesheet"
    />
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
      /* Your existing styles */
      .tabs {
      }
      .tab-titles {
        display: flex;
        margin-bottom: 10px;
        position: relative;
      }
      .tab {
        padding: 10px;
        cursor: pointer;
        flex: 1;
        text-align: center;
        transition: background-color 0.3s;
      }
      /* Hide radio buttons */
      input[type="radio"] {
        display: none;
      }
      /* Tab content styling */
      .tab-content .content {
        display: none; /* Hide all content by default */
      }
      #tab1:checked ~ .tab-titles ~ .tab-content #content1,
      #tab2:checked ~ .tab-titles ~ .tab-content #content2 {
        display: block; /* Show the corresponding content */
      }
      /* Border animation */
      .tab-titles:before {
        content: "";
        position: absolute;
        bottom: 0;
        left: 0;
        width: 60%; /* Adjust to the number of tabs */
        height: 2px;
        background-color: #3498db;
        transition: left 0.3s ease-in-out;
      }
      #tab1:checked ~ .tab-titles:before {
        left: 0%;
      }
      #tab2:checked ~ .tab-titles:before {
        left: 50%;
      }

      .modal {
        position: fixed; /* Stay in place */
        z-index: 1; /* Sit on top */
        left: 0;
        top: 0;
        width: 100%; /* Full width */
        height: 100%; /* Full height */
        overflow: auto; /* Enable scroll if needed */
        background-color: rgb(0, 0, 0); /* Fallback color */
        background-color: rgba(0, 0, 0, 0.4); /* Black w/ opacity */
      }

      .modal-content {
        /* background-color: #fefefe; */
        margin: 30px auto; /* 15% from the top and centered */
     
        /* border: 1px solid #888; */
        width: 30%; /* Could be more or less, depending on screen size */
      }

      .close {
        color: #aaa;
        float: right;
        font-size: 28px;
        font-weight: bold;
      }

      .close:hover,
      .close:focus {
        color: black;
        text-decoration: none;
        cursor: pointer;
      }
      .custom-bg {
        background-color: #4269b6;
      }
      .border-t-none {
    border-top: none !important;
}
    </style>
  </head>

  <body>
    <div
      class="block md:hidden bg-blue-600 sm:relative sm:h-[100px] max-w-4xl mx-auto"
    >
      <div class="flex justify-center items-center text-center">
        <div class="w-screen">
          <div class="mx-auto my-4 mb-20 rounded-md text-white font-bold">
            <nav class="absolute top-2 w-full">
              <div class="grid grid-cols-12 my-4">
                <div
                  class="col-span-2 flex justify-start px-5 items-center clickable-div"
                  data-target="newipo.html"
                >
                  <svg
                    xmlns="http://www.w3.org/2000/svg"
                    viewBox="0 0 24 24"
                    fill="currentColor"
                    class="h-6 w-6"
                  >
                    <path
                      fill-rule="evenodd"
                      d="M11.03 3.97a.75.75 0 0 1 0 1.06l-6.22 6.22H21a.75.75 0 0 1 0 1.5H4.81l6.22 6.22a.75.75 0 1 1-1.06 1.06l-7.5-7.5a.75.75 0 0 1 0-1.06l7.5-7.5a.75.75 0 0 1 1.06 0Z"
                      clip-rule="evenodd"
                    />
                  </svg>
                </div>
                <div
                  class="col-span-8 flex justify-start items-center text-lg font-semibold"
                >
                  IPO's
                </div>
                <div class="col-span-2 flex justify-end px-5 items-center">
                  <svg
                    xmlns="http://www.w3.org/2000/svg"
                    fill="none"
                    viewBox="0 0 24 24"
                    stroke-width="2"
                    stroke="currentColor"
                    class="h-6 w-6"
                  >
                    <path
                      stroke-linecap="round"
                      stroke-linejoin="round"
                      d="M9.879 7.519c1.171-1.025 3.071-1.025 4.242 0 1.172 1.025 1.172 2.687 0 3.712-.203.179-.43.326-.67.442-.745.361-1.45.999-1.45 1.827v.75M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-9 5.25h.008v.008H12v-.008Z"
                    />
                  </svg>
                </div>
              </div>
            </nav>
          </div>
        </div>
      </div>
    </div>
    <div
    class="flex justify-center items-center absolute top-12 left-0 right-0 md:relative md:top-0"
    >
      <div
        class="rounded-md border mt-5 bg-white shadow-lg w-full max-w-4xl md:max-w-none"
      >
        <div class="">
          <div class="flex justify-between">
            <div class="flex px-3 py-2 pt-4">
              <img
                src="https://tailwindui.com/plus/img/logos/48x48/tuple.svg"
                alt="Tuple"
                class="size-12 flex-none rounded-lg bg-white object-cover ring-1 ring-gray-900/10"
              />
              <div>
                <div
                  class="text-xl font-bold text-gray-900 p-2"
                  id="companyName"
                >
                  Company Name
                </div>
                <div class="flex gap-x-2 px-2 " id="tagsContainer">
                  <span
                    class="rounded-sm bg-indigo-50 px-1 py-0.5 text-[10px] md:text-xs font-medium text-indigo-700 ring-1 ring-inset ring-indigo-600/10 flex text-center items-center"
                    >MAINBOARD</span
                  >
                  <span
                    class="rounded-sm bg-gray-50 px-1 py-0.5 text-[10px] md:text-xs font-medium text-gray-700 ring-1 ring-inset ring-indigo-600/10 flex text-center items-center"
                    >SMALL CAP</span
                  >
                </div>
                <!-- <div class="flex gap-x-2" id="tagsContainer"></div> -->
              </div>
            </div>
            <div class="px-3 py-2 pt-4">
              <div
                class="w-full bg-white py-4 hidden md:block whitespace-nowrap"
                id="openModalButton"
              >
                <button
                  type="button"
                  class="rounded-md bg-blue-800 py-4 text-sm font-semibold text-white shadow-sm hover:bg-blue-700 focus:outline-none mx-4 px-7"
                  id="openModal"
                >
                  Apply Now
                </button>
              </div>
            </div>
          </div>
          
          <div class="mx-auto px-4">
         
            <div
              class="mx-auto max-w-2xl lg:mx-0 lg:max-w-none my-2 md:block hidden"
            >
              <ul role="list" class="mt-6 grid grid-cols-1 gap-x-6 gap-y-8">
                <li
                  class="overflow-hidden rounded-xl border border-gray-200 py-2"
                >
                  <div
                    class="flex items-center gap-x-2 border-gray-900/5 py-2 px-3"
                  >
                    <div>Investor Type</div>
                    <div>
                      <svg
                        xmlns="http://www.w3.org/2000/svg"
                        fill="none"
                        viewBox="0 0 24 24"
                        stroke-width="1.5"
                        stroke="currentColor"
                        class="mt-1 h-6 w-6"
                      >
                        <path
                          stroke-linecap="round"
                          stroke-linejoin="round"
                          d="m11.25 11.25.041-.02a.75.75 0 0 1 1.063.852l-.708 2.836a.75.75 0 0 0 1.063.853l.041-.021M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-9-3.75h.008v.008H12V8.25Z"
                        />
                      </svg>
                    </div>
                  </div>
                  <div class="flex gap-x-2 text-sm px-3">
                    <span
                      id="retailButton"
                      class="my-2 inline-flex items-center rounded-md bg-white px-4 py-2 text-sm font-medium text-blue-700 ring-1 ring-inset ring-blue-700/10 cursor-pointer"
                      >Retail</span
                    >
                    <span
                      id="hniButton"
                      class="my-2 inline-flex items-center rounded-md bg-white px-4 py-2 text-sm font-medium text-black-700 ring-1 ring-inset ring-gray-400/10 cursor-pointer"
                      >HNI</span
                    >
                    <span
                      id="employeeButton"
                      class="my-2 inline-flex items-center rounded-md bg-white px-4 py-2 text-sm font-medium text-black-700 ring-1 ring-inset ring-gray-400/10 cursor-pointer"
                      >Employee</span
                    >
                  </div>
                  <div
                    class="px-3 flex gap-x-2"
                    id="investorTypesContainer"
                  ></div>
                  <dl
                    class="-my-3 divide-y divide-gray-100  py-4 text-sm/6"
                  >
                    <div
                      class="grid grid-cols-1 md:grid-cols-3  flex text-start "
                    >
                      <div class="border p-3 flex justify-center">
                        <div>
                        <dt class="text-gray-500">Minimum Investment</dt>
                        <dd
                          class="text-gray-700 font-bold"
                          id="minimumInvestment"
                        >
                          ₹ 0.00
                        </dd>
                      </div>
                      </div>
                      <div class="border  p-3 flex justify-center">
                        <div>
                        <dt class="text-gray-500">Maximum Investment</dt>
                        <dd
                          class="text-gray-700 font-bold"
                          id="maximumInvestment"
                        >
                          ₹ 0.00
                        </dd>
                      </div>
                      </div>
                      <div class="border  p-3 flex justify-center">
                        <div>
                        <dt class="text-gray-500">Bid Price</dt>
                        <dd class="text-gray-700 font-bold" id="bidPrice">
                          ₹ 0.00 - ₹ 0.00
                        </dd>
                      </div>
                      </div>
                      
                    </div>
                    <div
                      class="grid grid-cols-1 md:grid-cols-5  flex text-start"
                    >
                      <div class="border border-t-none p-3 flex justify-center">
                        <div>
                        <dt class="text-gray-500">Issue Size</dt>
                        <dd class="text-gray-700 font-bold" id="issueSize">
                          ₹ 0.00
                        </dd>
                      </div>
                      </div>
                      <div class="border border-t-none p-3 flex justify-center">
                        <div>
                        <dt class="text-gray-500">Offer Type</dt>
                        <dd class="text-gray-700 font-bold" id="offerType">
                          N/A
                        </dd>
                      </div>
                      </div>
                      <div class=" border  border-t-none p-3 flex justify-center">
                        <div>
                        <dt class="text-gray-500">IPO Type</dt>
                        <dd class="text-gray-700 font-bold" id="ipoType">
                          N/A
                        </dd>
                      </div>
                      </div>
                      <!-- </div>
                          <div class="grid grid-cols-1 md:grid-cols-2 gap-x-4 py-3 flex text-start"> -->
                            <div class="border  border-t-none p-3 flex justify-center">
                              <div>
                              <dt class="text-gray-500">Retail Discount</dt>
                              <dd class="text-gray-700 font-bold" id="retailDiscount">
                                ₹ 0.00
                              </dd>
                            </div>
                            </div>
                 
                      <div class="border  border-t-none p-3 flex justify-center">
                        <div>
                        <dt class="text-gray-500">Lot Size</dt>
                        <dd class="text-gray-700 font-bold" id="lotSize">
                          0 Shares
                        </dd>
                      </div>
                      </div>
                    </div>
                    <div class="py-4 mx-2">
                      <div
                        class="rounded-md bg-red-50 flex justify-center px-2 py-2 text-xs font-bold text-red-700 ring-1 ring-inset ring-red-600/10"
                        id="biddingStatus"
                      >
                        <svg
                          xmlns="http://www.w3.org/2000/svg"
                          fill="none"
                          viewBox="0 0 24 24"
                          stroke-width="1.5"
                          class="size-6"
                        >
                          <path
                            stroke-linecap="round"
                            stroke-linejoin="round"
                            d="M12 6v6h4.5m4.5 0a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"
                          />
                        </svg>
                        <span class="py- px-2 text-sm"
                          >Bidding closes in 0 days</span
                        >
                      </div>
                    </div>
                  </dl>
                </li>
              </ul>
            </div>
            <div
            class="mx-auto max-w-2xl lg:mx-0 lg:max-w-none my-2 block md:hidden"
          >
            <ul role="list" class="mt-6 grid grid-cols-1 gap-x-6 gap-y-8">
              <li
                class="overflow-hidden rounded-xl border border-gray-200 py-2"
              >
                <div
                  class="flex items-center gap-x-2 border-gray-900/5 py-2 px-3"
                >
                  <div>Investor Type</div>
                  <div>
                    <svg
                      xmlns="http://www.w3.org/2000/svg"
                      fill="none"
                      viewBox="0 0 24 24"
                      stroke-width="1.5"
                      stroke="currentColor"
                      class="mt-1 h-6 w-6"
                    >
                      <path
                        stroke-linecap="round"
                        stroke-linejoin="round"
                        d="m11.25 11.25.041-.02a.75.75 0 0 1 1.063.852l-.708 2.836a.75.75 0 0 0 1.063.853l.041-.021M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-9-3.75h.008v.008H12V8.25Z"
                      />
                    </svg>
                  </div>
                </div>
                <div class="flex gap-x-2 text-sm px-3">
                  <span
                    id="retailButton"
                    class="my-2 inline-flex items-center rounded-md bg-white px-4 py-2 text-sm font-medium text-blue-700 ring-1 ring-inset ring-blue-700/10 cursor-pointer"
                    >Retail</span
                  >
                  <span
                    id="hniButton"
                    class="my-2 inline-flex items-center rounded-md bg-white px-4 py-2 text-sm font-medium text-black-700 ring-1 ring-inset ring-gray-400/10 cursor-pointer"
                    >HNI</span
                  >
                  <span
                    id="employeeButton"
                    class="my-2 inline-flex items-center rounded-md bg-white px-4 py-2 text-sm font-medium text-black-700 ring-1 ring-inset ring-gray-400/10 cursor-pointer"
                    >Employee</span
                  >
                </div>
                <div
                  class="px-3 flex gap-x-2"
                  id="investorTypesContainer"
                ></div>
                <dl
                  class="-my-3 divide-y divide-gray-100 px-3 py-4 text-sm/6"
                >
                  <div class="flex justify-between gap-x-4 py-3">
                    <div>
                      <dt class="text-gray-500">Bid Price</dt>
                      <dd class="text-gray-700 font-bold" id="bidPrice">
                        ₹ 0.00 - ₹ 0.00
                      </dd>
                    </div>
                    <div>
                      <dt class="text-gray-500 flex justify-end">Lot Size</dt>
                      <dd class="text-gray-700 font-bold" id="lotSize">
                        0 Shares
                      </dd>
                    </div>
                  </div>
                  <div class="flex justify-between gap-x-4 py-3">
                    <div>
                      <dt class="text-gray-500">Retail Discount</dt>
                      <dd class="text-gray-700 font-bold" id="retailDiscount">
                        ₹ 0.00
                      </dd>
                    </div>
                    <div>
                      <dt class="text-gray-500 flex justify-end">
                        Issue Size
                      </dt>
                      <dd class="text-gray-700 font-bold" id="issueSize1
                      ">
                        ₹ 0.00
                      </dd>
                    </div>
                  </div>
                  <div
                    class="flex justify-between gap-x-4 py-3 border-b border-gray-200"
                  >
                    <div>
                      <dt class="text-gray-500">Offer Type</dt>
                      <dd class="text-gray-700 font-bold" id="offerType">
                        N/A
                      </dd>
                    </div>
                    <div>
                      <dt class="text-gray-500 flex justify-end">IPO Type</dt>
                      <dd class="text-gray-700 font-bold" id="ipoType">
                        N/A
                      </dd>
                    </div>
                  </div>
                  <div class="flex justify-between rounded-md my-2">
                    <div>
                      <dt class="text-gray-500">Minimum Investment</dt>
                    </div>
                    <div>
                      <dd
                        class="text-gray-700 font-bold"
                        id="minimumInvestment"
                      >
                        ₹ 0.00
                      </dd>
                    </div>
                  </div>
                  <div class="flex justify-between rounded-md my-5">
                    <div>
                      <dt class="text-gray-500">Maximum Investment</dt>
                    </div>
                    <div>
                      <dd
                        class="text-gray-700 font-bold"
                        id="maximumInvestment"
                      >
                        ₹ 0.00
                      </dd>
                    </div>
                  </div>
                  <div>
                    <div
                      class="rounded-md bg-red-50 flex justify-center px-2 py-2 text-xs font-bold text-red-700 ring-1 ring-inset ring-red-600/10"
                      id="biddingStatus"
                    >
                      <svg
                        xmlns="http://www.w3.org/2000/svg"
                        fill="none"
                        viewBox="0 0 24 24"
                        stroke-width="1.5"
                        class="size-6"
                      >
                        <path
                          stroke-linecap="round"
                          stroke-linejoin="round"
                          d="M12 6v6h4.5m4.5 0a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"
                        />
                      </svg>
                      <span class="py- px-2 text-sm"
                        >Bidding closes in 0 days</span
                      >
                    </div>
                  </div>
                </dl>                     
              </li>
            </ul>
          </div>                         
          </div>
          <div class="bg-gray-100 h-2 my-5"></div>
          <div class="px-4">
            <div class="font-bold text-gray-700 text-xl">Important Dates</div>
            <div class="mx-auto my-2">
              <ul role="list" class="mt-6" id="importantDatesContainer"></ul>
            </div>
          </div>
          <div class="p-3 px-5" id="aboutCompanySection">
            <div class="bg-gray-100 h-2 my-5"></div>
            <div class="font-bold text-gray-700 text-xl">About the Company</div>
            <div class="py-4" id="aboutCompany">Loading...</div>
          </div>
          <div class="p-3 px-5" id="objectOfIssueSection">
            <div class="font-bold text-gray-700 text-xl">
              Object of the Issue
            </div>
            <div class="pl-5 py-3" id="objectOfIssue">Loading...</div>
          </div>
          <div class="bg-gray-100 h-2 my-5"></div>
          <div class="p-2 px-5">
            <div class="font-bold text-gray-700 text-xl">
              Shareholding Patterns
            </div>
            <div class="px-4 sm:px-6 lg:px-8">
              <div class="flow-root">
                <div class="-mx-4 -my-2 overflow-x-auto sm:-mx-6 lg:-mx-8">
                  <div
                    class="inline-block min-w-full py-2 align-middle sm:px-6 lg:px-8"
                  >
                    <table class="min-w-full divide-y divide-gray-300">
                      <thead>
                        <tr>
                          <th
                            scope="col"
                            class="py-3.5 pl-4 pr-3 text-left text-sm font-semibold text-gray-900 sm:pl-3"
                          >
                            Particulars
                          </th>
                          <th
                            scope="col"
                            class="px-3 py-3.5 text-left text-sm font-semibold text-gray-900"
                          >
                            Pre-Issue
                          </th>
                          <th
                            scope="col"
                            class="px-3 py-3.5 text-left text-sm font-semibold text-gray-900"
                          >
                            Post-Issue
                          </th>
                        </tr>
                      </thead>
                      <tbody
                        class="bg-white"
                        id="shareholdingPatternsContainer"
                      ></tbody>
                    </table>
                  </div>
                </div>
              </div>
            </div>
          </div>
          <div class="bg-gray-100 h-2 my-5"></div>
          <div class="p-3 px-5">
            <div class="font-bold text-gray-700 text-xl">
              Strengths and Risks
            </div>
            <div class="tabs">
              <input type="radio" id="tab1" name="tab" checked />
              <input type="radio" id="tab2" name="tab" />
              <div class="tab-titles">
                <label for="tab1" class="tab">Strengths</label>
                <label for="tab2" class="tab">Risks</label>
              </div>
              <div class="tab-content">
                <div class="content" id="content1">
                  <div id="strengthsContainer"></div>
                </div>
                <div class="content" id="content2">
                  <div id="risksContainer"></div>
                </div>
              </div>
            </div>
          </div>
          <div class="bg-gray-100 h-2 my-3"></div>
          <div class="px-5 py-2 pb-20">
            <div class="font-bold text-gray-700 text-xl">Company Report</div>
            <div class="mx-auto max-w-2xl lg:mx-0 lg:max-w-none my-2">
              <ul role="list" class="mt-6">
                <li
                  class="overflow-hidden rounded-xl border border-gray-200 py-2"
                >
                  <div class="flex justify-between p-4">
                    <div>
                      <svg
                        xmlns="http://www.w3.org/2000/svg"
                        fill="none"
                        viewBox="0 0 24 24"
                        stroke-width="1.5"
                        stroke="red"
                        class="h-6 w-6 my-2"
                      >
                        <path
                          stroke-linecap="round"
                          stroke-linejoin="round"
                          d="M19.5 14.25v-2.625a3.375 3.375 0 0 0-3.375-3.375h-1.5A1.125 1.125 0 0 1 13.5 7.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H8.25m2.25 0H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 0 0-9-9Z"
                        />
                      </svg>
                    </div>
                    <div>
                      <div
                        class="font-semibold text-gray-800 text-sm"
                        id="reportTitle"
                      >
                        Company Report
                      </div>
                      <div class="text-gray-300 text-sm">
                        <a href="#" id="reportLink">Download RHP</a>
                      </div>
                    </div>
                    <div>
                      <svg
                        xmlns="http://www.w3.org/2000/svg"
                        fill="none"
                        viewBox="0 0 24 24"
                        stroke-width="1.5"
                        stroke="blue"
                        class="h-6 w-6 my-2"
                      >
                        <path
                          stroke-linecap="round"
                          stroke-linejoin="round"
                          d="M3 16.5v2.25A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75V16.5M16.5 12 12 16.5m0 0L7.5 12m4.5 4.5nse-api"
                        />
                      </svg>
                    </div>
                  </div>
                </li>
              </ul>
            </div>
          </div>
          <div class="bg-gray-100 h-2"></div>
        </div>
        <div
          class="fixed bottom-0 w-full bg-white py-4 z-50 block md:hidden"
          id="applyNowButton"
        >
          <button
            type="button"
            class="rounded-md bg-blue-800 py-4 text-sm font-semibold text-white shadow-sm hover:bg-blue-700 focus:outline-none mx-4 w-[90%] lg:w-[55%]"
          >
            Apply Now
          </button>
        </div>
      </div>
    </div>

    <div id="myModal" class="modal hidden">
      <div class="modal-content">
        <div class="overflow-hidden 
        ">
          <div class="rounded-md border bg-white shadow-lg w-full p-2
          ">
            <!-- IPO Information -->
            <div>
              <div class="flex justify-between py-3 px-3 font-bold text-xl">
                <div class="flex justify-between">
                  <div>
                    <div class="flex">
                      <div class="px-5 text-lg" id="companyName1">Loading...</div>
                      <span
                        class="rounded-sm bg-indigo-50 px-1 text-[10px] font-medium text-indigo-700 ring-1 ring-inset ring-indigo-600/10 flex text-center items-center my-2"
                        >MAINBOARD</span
                      >
                    </div>
                    <div class="text-gray-500 text-sm px-5" id="priceRange">
                      Loading...
                    </div>
                  </div>
                </div>
                <span class="close" id="closeModal">&times;</span>
              </div>
              <div class="bg-gray-100 h-2"></div>
              <div class="px-5 py-2">
                <div class="flex items-center gap-x-2 border-gray-900/5">
                  <div class="text-gray-600 text-sm">Investor Type</div>
                </div>
                <div id="investorTypeContainer1" class="flex flex-col"></div>
                <!-- Container for investor type buttons -->
              </div>
              <div class="flex justify-between px-5 py-2">
                <div class="text-gray-600 text-sm">Number of lots</div>
                <div class="text-gray-600 text-sm">
                  Maximum lots:
                  <span id="lotSize1" class="text-gray-600">Loading...</span>
                </div>
              </div>
              <div class="px-5">
                <div class="grid grid-cols-12 gap-x-2">
                  <div class="col-span-2">
                    <div
                      id="decrement"
                      class="p-1 text-2xl font-bold rounded-md border border-gray-900/5 flex justify-center bg-gray-100 flex item-center text-center"
                    >
                      <svg
                        xmlns="http://www.w3.org/2000/svg"
                        fill="none"
                        viewBox="0 0 24 24"
                        stroke-width="1.5"
                        stroke="currentColor"
                        class="h-6 w-6 py-1"
                      >
                        <path
                          stroke-linecap="round"
                          stroke-linejoin="round"
                          d="M5 12h14"
                        />
                      </svg>
                    </div>
                  </div>
                  <div class="col-span-8">
                    <div
                      class="p-1 rounded-md border border-gray-900/5 flex justify-center"
                    >
                      <span id="lotCount">1</span>
                    </div>
                  </div>
                  <div class="col-span-2">
                    <div
                      id="increment"
                      class="p-1 text-2xl font-bold rounded-md border border-gray-900/5 flex justify-center bg-gray-100 flex item-center text-center"
                    >
                      <svg
                        xmlns="http://www.w3.org/2000/svg"
                        fill="none"
                        viewBox="0 0 24 24"
                        stroke-width="1.5"
                        stroke="currentColor"
                        class="h-6 w-6 py-1"
                      >
                        <path
                          stroke-linecap="round"
                          stroke-linejoin="round"
                          d="M12 4.5v15m7.5-7.5h-15"
                        />
                      </svg>
                    </div>
                  </div>
                </div>
              </div>
              <div class="px-5">
                <div class="text-gray-600 py-2 text-sm">Bid price</div>
                <input
                  type="number"
                  id="bidPrice1"
                  class="px-4 py-1 rounded-md border border-gray-900/5 w-full focus:outline-blue-500"
                />
              </div>
              <div class="py-1 my-2 bg-gray-100"></div>
              <div
                class="flex justify-between px-5 py-2 bg-gray-100 m-4 rounded-md"
              >
                <div>
                  <svg
                    xmlns="http://www.w3.org/2000/svg"
                    viewBox="0 0 24 24"
                    fill="blue"
                    class="h-6 w-6"
                  >
                    <path
                      fill-rule="evenodd"
                      d="M2.25 12c0-5.385 4.365-9.75 9.75-9.75s9.75 4.365 9.75 9.75-4.365 9.75-9.75 9.75S2.25 17.385 2.25 12Zm8.706-1.442c1.146-.573 2.437.463 2.126 1.706l-.709 2.836.042-.02a.75.75 0 0 1 .67 1.34l-.04.022c-1.147.573-2.438-.463-2.127-1.706l.71-2.836-.042.02a.75.75 0 1 1-.671-1.34l.041-.022ZM12 9a.75.75 0 1 0 0-1.5.75.75 0 0 0 0 1.5Z"
                      clip-rule="evenodd"
                    />
                  </svg>
                </div>
                <div class="text-md">Switch to HNI to buy more lots</div>
                <div class="font-bold text-sm text-blue-600 mt-1">MODIFY</div>
              </div>
              <div class="px-5 py-2">
                <label class="block text-gray-600 text-sm">Enter UPI ID</label>
                <p class="text-gray-500 text-sm py-2">
                  Use UPI ID linked to your bank account
                </p>
                <div class="flex items-center mt-2">
                  <img
                    alt="UPI logo"
                    class="w-6 h-6"
                    height="40"
                    src="images/images.png"
                    width="50"
                  />
                  <input
                    class="w-full ml-2 px-4 py-1 text-sm border border-gray-300 rounded focus:outline-blue-500"
                    type="text"
                    placeholder="Enter your UPI (xxx@Bankname)"
                  />
                  <i class="fas fa-check-circle text-green-500 ml-2"> </i>
                </div>
              </div>
              <div class="">
                <label class="block text-gray-600 px-5 py-2 text-sm">VERIFY UPI</label>
                <p class="bg-gray-100 text-sm h-[10px]"></p>
              </div>
              <div class="bg-white max-w-4xl mx-auto">
                <div class="flex justify-between px-4 py-2">
                  <div class="flex text-sm">
                    Total Payable amount
                    <span>
                      <svg
                        xmlns="http://www.w3.org/2000/svg"
                        fill="none"
                        viewBox="0 0 24 24"
                        stroke-width="1.5"
                        stroke="currentColor"
                        class="h-3 w-3 mx-3 my-2"
                      >
                        <path
                          stroke-linecap="round"
                          stroke-linejoin="round"
                          d="m19.5 8.25-7.5 7.5-7.5-7.5"
                        />
                      </svg>
                    </span>
                  </div>
                  <div id="totalAmount" class="px-4 font-bold">₹ 0</div>
                </div>
                <button
                  type="button"
                  class="rounded-md custom-bg py-3 text-sm text-white font-semibold shadow-sm hover:bg-blue-700 focus:outline-none mx-4 w-[90%] md:w-[95%]"
                  id="applyButton"
                >
                  Update Application
                </button>
                <div class="py-2 flex justify-center text-gray-500 text-sm">
                  By applying, you accept the
                  <span class="text-blue-500 px-2">Terms and Conditions</span>
                </div>
              </div>

              <!-- UPI Information Section -->
              <!-- <div class="px-5 py-2" id="upiInfoSection">
                        <h3 class="text-gray-600 font-bold">UPI Information</h3>
                        <ul id="upiList" class="list-disc pl-5 text-gray-600"></ul>
                    </div> -->
            </div>
          </div>
        </div>
      </div>
    </div>
    <script>
      document.addEventListener("DOMContentLoaded", () => {
        let lotmain;

        const fetchIpoInfo = async () => {
    const urlParams = new URLSearchParams(window.location.search);
    const isin = urlParams.get("isin") || "INE0R4L01018"; // Default value
    const symbol = urlParams.get("ipoSymbol") || "DENTA"; // Default value
    const upiId = urlParams.get("upiId") || ""; // Get UPI ID from URL

    const response = await fetch(
        `https://ipo.gwcindia.in/nse-api/api-ipo-info.php?isin=${isin}&symbol=${symbol}`
    );
    const data = await response.json();
    if (data) {
        document.getElementById("companyName1").textContent = data.ipoName || "N/A";
        document.getElementById("priceRange").textContent = `₹ ${data.minPrice} - ₹ ${data.maxPrice}`;
        const lotSize = parseInt(data.lotSize) || 0; // Set lotSize and ensure it's a number
        lotmain = parseInt(data.lotSize) || 0;
        document.getElementById("lotSize1").textContent = lotSize || "N/A";
        document.getElementById("bidPrice1").value = data.minPrice || 0; // Set default bid price

        // Set the UPI ID in the input field
        const upiInput = document.querySelector('input[placeholder="Enter your UPI (xxx@Bankname)"]');
        if (upiInput) {
            upiInput.value = upiId; // Set the UPI ID in the input field
        }

        // Clear previous investor type buttons
        const investorTypeContainer = document.getElementById("investorTypeContainer1");
        investorTypeContainer.innerHTML = ""; // Clear previous buttons

        // Filter and display UPI information
        data.subCategorySettings.forEach((setting) => {
            if (setting.allowUpi) {
                // Create a button for each investor type
                const investorTypeButton = document.createElement("button");
                investorTypeButton.textContent = setting.caCode; // Use caCode for button text
                investorTypeButton.className = "my-1 inline-flex items-center rounded-md bg-white px-3 py-1 text-sm font-medium text-blue-700 ring-1 ring-inset ring-blue-700/10 cursor-pointer mr-2 focus:outline-blue-700";
                investorTypeButton.dataset.investorType = setting.caCode; // Store the investor type in data attribute
                investorTypeButton.dataset.minValue = setting.maxUpiLimit;

                // Add click event listener to the button
                investorTypeButton.addEventListener("click", () => {
                    selectedInvestorType = investorTypeButton.dataset.investorType; // Set the selected investor type
                    selectedMinValue = parseFloat(investorTypeButton.dataset.minValue); // Get the corresponding minValue
                    updateMaxLots(); // Update the maximum lots based on the selected investor type
                });

                // Append the button to the investor type container
                investorTypeContainer.appendChild(investorTypeButton);
            }
        });

        // Show investor type buttons if there are investor types with allowUpi
        if (investorTypeContainer.children.length > 0) {
            investorTypeContainer.style.display = "block"; // Show the container
        } else {
            investorTypeContainer.style.display = "none"; // Hide the container
        }
    }
};

        // Call the function to fetch IPO information
        fetchIpoInfo();

        function showModal(title, message) {
          document.getElementById("modalTitle").textContent = title;
          document.getElementById("modalMessage").textContent = message;
          document.getElementById("responseModal").classList.remove("hidden");
        }

        document.getElementById("closeModal").addEventListener("click", () => {
          document.getElementById("responseModal").classList.add("hidden");
        });

        const lotCountDisplay = document.getElementById("lotCount");
        let lotCount = 1;

        const incrementButton = document.getElementById("increment");
        const decrementButton = document.getElementById("decrement");

        let selectedInvestorType = "Retail"; // Default investor type
        let selectedMinValue = null; // To store the selected investor type's minValue
        const upiSettings = []; // Array to hold UPI settings

        function updateTotalAmount(lotSize) {
          const bidPrice =
            parseFloat(document.getElementById("bidPrice1").value) || 0;
          const totalAmount = lotCount * lotmain * bidPrice;
          document.getElementById(
            "totalAmount"
          ).innerText = `₹ ${totalAmount.toFixed(2)}`;
        }

        incrementButton.addEventListener("click", () => {
          const maxLotSize = parseInt(
            document.getElementById("lotSize").textContent
          );
          if (lotCount < maxLotSize) {
            lotCount++;
            lotCountDisplay.textContent = lotCount;
            updateTotalAmount(
              parseInt(document.getElementById("lotSize").textContent)
            );
          }
        });

        decrementButton.addEventListener("click", () => {
          if (lotCount > 1) {
            lotCount--;
            lotCountDisplay.textContent = lotCount;
            updateTotalAmount(
              parseInt(document.getElementById("lotSize").textContent)
            );
          }
        });

        // Function to update the maximum lots based on the selected investor type
        function updateMaxLots() {
          debugger
    const lotSize = lotmain; // This should be the lot size from the fetched data
    const bidPrice = parseFloat(document.getElementById("bidPrice1").value) || 0;
    const issueSize = parseFloat(document.getElementById("issueSize1").textContent.replace(/₹/g, '').replace(/,/g, '').trim()) || 0; // Fetch the issue size

    let maxLots = 0; // Initialize maxLots

    // Calculate maxLots based on the formula

    if (lotSize > 0 && bidPrice > 0 && issueSize > 0) {
        maxLots = Math.floor((bidPrice * lotSize) / issueSize);
    }

    // Update the UI with max lots
    document.getElementById("lotSize").textContent = maxLots > 0 ? maxLots : "N/A"; // Ensure maxLots is displayed correctly
}

        document.getElementById("applyButton").addEventListener("click", () => {
          const button = document.getElementById("applyButton");

          // Change button text
          button.textContent = "Processing..."; // Change text to indicate processing

          // Add loader class
          button.classList.add("loader");

          // Optionally, you can disable the button to prevent multiple clicks
          button.disabled = true;

          // Simulate a delay for demonstration (e.g., an API call)
          setTimeout(() => {
            // Reset button text and remove loader class after some time
            button.textContent = "Update Application";
            button.classList.remove("loader"); // Remove loading animation
            button.disabled = false; // Re-enable the button
          }, 3000); // Change this duration as needed
          const clientCode = "GZ10219";
          const upiId = document.querySelector(
            'input[placeholder="Enter your UPI (xxx@Bankname)"]'
          ).value; // Get UPI ID from input field
          const category = "IND";
          const qty = lotCount;
          const price = document.getElementById("bidPrice").value || 290;
          const cutOff = true;

          const isinElement = document.getElementById("isin");
          const ipoSymbolElement = document.getElementById("ipoSymbol");

          const isin = isinElement ? isinElement.value : "INE0R4L01018"; // Default value
          const ipoSymbol = ipoSymbolElement ? ipoSymbolElement.value : "DENTA"; // Default value
          const val = qty * lotmain;

          const formData = new FormData();
          formData.append("clientCode", clientCode);
          formData.append("isin", isin);
          formData.append("ipoSymbol", ipoSymbol);
          formData.append("upiId", upiId); // Use the dynamically set UPI ID
          formData.append("category", category);
          formData.append("qty", val);
          formData.append("price", price);
          formData.append("cutOff", cutOff);

          fetch("https://ipo.gwcindia.in/nse-api/api-apply-ipo.php", {
            method: "POST",
            headers: {
              Cookie: "PHPSESSID=f84t4fg8ir4sa2eagd3pp1k3g7",
            },
            body: formData,
          })
            .then((response) => response.json())
            .then((data) => {
              if (data.status === "success") {
                showModal(data.status, data.message);
              } else {
                showModal("Error", data.message || "An error occurred.");
              }
              console.log(data);
            })
            .catch((error) => {
              showModal("Error", "Error submitting application!");
              console.error(error);
            });
        });

        document
          .querySelector(".clickable-div")
          .addEventListener("click", function () {
            const target = this.getAttribute("data-target");
            window.location.href = target; // Navigate to the new page
          });
      });

      async function fetchIpoData() {
        const urlParams = new URLSearchParams(window.location.search);
const isin = urlParams.get("isin");
const symbol = urlParams.get("symbol");
console.log(isin, symbol); // Check if you are getting the correct query parameters.


        const apiUrl = `https://ipo.gwcindia.in/nse-api/api-ipo-info.php?isin=${isin}&symbol=${symbol}`;

        try {
          const response = await fetch(apiUrl);
          if (!response.ok) {
            throw new Error("Network response was not ok");
          }
          const data = await response.json();
          displayIpoDetails(data);
        } catch (error) {
          console.error(
            "There has been a problem with your fetch operation:",
            error
          );
        }
      }

      function displayIpoDetails(data) {
    document.getElementById("companyName").innerText = data.ipoName;
    document.getElementById("bidPrice").innerText = `₹ ${data.minPrice}.00 - ₹ ${data.maxPrice}.00`;
    document.getElementById("lotSize").innerText = `${data.lotSize} Shares`;
    document.getElementById("retailDiscount").innerText = `₹ ${data.cutOffPrice}.00`;
    document.getElementById("issueSize").innerText = `₹ ${data.issueSize}.00`;
    document.getElementById("offerType").innerText = data.subType || "Mainboard";
    document.getElementById("ipoType").innerText = data.issueType || "Book Building";
    
    // Ensure these IDs match your HTML
    document.getElementById("minimumInvestment").innerText = `₹ ${data.minPrice * data.lotSize } / 1 Lot`; // Assuming minPrice is the minimum investment
    document.getElementById("maximumInvestment").innerText = `₹ ${data.maxPrice * data.lotSize} / ${data.lotSize} Lots`; // Assuming maxPrice is the maximum investment

    // Display important dates
    const importantDatesContainer = document.getElementById("importantDatesContainer");
    if (Array.isArray(data.importantDates) && data.importantDates.length > 0) {
        importantDatesContainer.innerHTML = data.importantDates
            .map((date) => `<li class="py-2">${date}</li>`)
            .join("");
    } else {
        importantDatesContainer.innerHTML = "<li>No important dates available.</li>";
    }

    // Set report link
    document.getElementById("reportLink").setAttribute("href", data.reportLink);
    document.getElementById("reportTitle").innerText = `${data.ipoName} Report`;

    // Display strengths
    const strengthsContainer = document.getElementById("strengthsContainer");
    if (Array.isArray(data.strengths) && data.strengths.length > 0) {
        strengthsContainer.innerHTML = data.strengths
            .map((strength) => `<div class="flex"><div class="p-2">${strength}</div></div>`)
            .join("");
    } else {
        strengthsContainer.innerHTML = "<div>No strengths available.</div>";
    }

    // Display risks
    const risksContainer = document.getElementById("risksContainer");
    if (Array.isArray(data.risks) && data.risks.length > 0) {
        risksContainer.innerHTML = data.risks
            .map((risk) => `<div class="flex"><div class="p-2">${risk}</div></div>`)
            .join("");
    } else {
        risksContainer.innerHTML = "<div>No risks available.</div>";
    }

    // Display shareholding patterns
    const shareholdingPatternsContainer = document.getElementById("shareholdingPatternsContainer");
    if (Array.isArray(data.shareholdingPatterns) && data.shareholdingPatterns.length > 0) {
        shareholdingPatternsContainer.innerHTML = data.shareholdingPatterns
            .map((pattern) => `
                <tr class="even:bg-gray-50">
                    <td class="whitespace-nowrap py-4 pl-4 pr-3 text-sm font-medium text-gray-900 sm:pl-3">${pattern.particulars}</td>
                    <td class="whitespace-nowrap px-3 py-4 text-sm text-gray-500">${pattern.preIssue}</td>
                    <td class="whitespace-nowrap px-3 py-4 text-sm text-gray-500">${pattern.postIssue}</td>
                </tr>
            `)
            .join("");
    } else {
        shareholdingPatternsContainer.innerHTML = "<tr><td colspan='3' class='text-center'>No shareholding patterns available.</td></tr>";
    }

    // Display about company
    const aboutCompanySection = document.getElementById("aboutCompanySection");
    if (data.aboutCompany && data.aboutCompany.trim() !== "") {
        document.getElementById("aboutCompany").innerText = data.aboutCompany;
        aboutCompanySection.style.display = "block"; // Show the section
    } else {
        aboutCompanySection.style.display = "none"; // Hide the section
    }

    // Display object of issue
    const objectOfIssueSection = document.getElementById("objectOfIssueSection");
    if (data.objectOfIssue && data.objectOfIssue.trim() !== "") {
        document.getElementById("objectOfIssue").innerText = data.objectOfIssue;
        objectOfIssueSection.style.display = "block"; // Show the section
    } else {
        objectOfIssueSection.style.display = "none"; // Hide the section
    }
}

      document
        .getElementById("applyNowButton")
        .addEventListener("click", function () {
          const urlParams = new URLSearchParams(window.location.search);
          const params = new URLSearchParams({
            isin: urlParams.get("isin"),
            symbol: urlParams.get("symbol"),
          });

          // Redirect to applyNow.html with parameters
          window.location.href = `applicationupdate.html?${params.toString()}`;
        });

      // Call the function to fetch IPO data on page load
      window.onload = function () {
        fetchIpoData();
      };
      // Get modal element
      var modal = document.getElementById("myModal");
      var openModalButton = document.getElementById("openModal");
      var closeModalButton = document.getElementById("closeModal");

      openModalButton.addEventListener("click", function () {
  const urlParams = new URLSearchParams(window.location.search);
  const isin = urlParams.get("isin");
  const symbol = urlParams.get("symbol");

  modal.classList.remove("hidden");

  // Re-fetch the data based on new parameters
  fetchIpoInfo(isin, symbol);
});

      // Close modal
      closeModalButton.addEventListener("click", function () {
        modal.classList.add("hidden");
      });

      // Close modal if clicked outside of modal content
      window.addEventListener("click", function (event) {
        if (event.target == modal) {
          modal.classList.add("hidden");
        }
      });
    </script>
  </body>
</html>
